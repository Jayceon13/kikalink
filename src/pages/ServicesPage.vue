<template>
  <q-page padding>
    <video id="bg-vdo" playsinline muted :poster="vdoPoster">
      <source :src="vdoSrc" type="video/mp4">
    </video>
    <div class="brow">
      <p>-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±—Ä–æ–≤–µ–π /—Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã<br>
        -–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ /–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –±—Ä–æ–≤–µ–π (—Ö–Ω–∞ /–∫—Ä–∞—Å–∫–∞)<br>
        -–û—Å–≤–µ—Ç–ª–µ–Ω–∏–µ –±—Ä–æ–≤–µ–π<br>
        -–ü—Ä–æ—Ä–µ–∂–∏–≤–∞–Ω–∏–µ<br>
        -–õ–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü<br>
        -–ü—Ä–æ—Ç–µ–∏–Ω–æ–≤–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü /–±—Ä–æ–≤–µ–π<br>
        -–î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —É–∫–ª–∞–¥–∫–∞ –±—Ä–æ–≤–µ–π<br>
        <br>
        üíî–ö–æ–º–±–æ –∑–∞ 45 –º–∏–Ω—É—Ç<br>
        <br>
        –†–µ—Å–Ω–∏—Ü—ã + –±—Ä–æ–≤–∏ Botex –≤ –ø–æ–¥–∞—Ä–æ–∫ üéÅ<br>
        <br>
        üíî–û–±—Ä–∞–∑ –∑–∞ 1,5 —á–∞—Å–∞<br>
        –ú–∞–∫–∏—è–∂ –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏<br>
        –£–∫–ª–∞–¥–∫–∞ / –ø—Ä–∏—á—ë—Å–∫–∞<br>
        –ú–∞–∫–∏—è–∂ + —É–∫–ª–∞–¥–∫–∞<br>
        –ú–∞–∫–∏—è–∂ —Ç–µ–ª–∞ ( –≥—Ä—É–¥—å/–Ω–æ–≥–∏/—Ä—É–∫–∏)<br>
        –ì—Ä–∏–º
        <br>
      </p>
      <q-btn href="https://api.whatsapp.com/send?phone=79811853911&text=" class="my-btn" outline>–ó–ê–ü–ò–°–ê–¢–¨–°–Ø</q-btn>
      <br>
      <p>
        -Architecture of eyebrows / shaping<br>
        - Coloring / correction of eyebrows (henna / dye<br>
        - Eyebrow lightening<br>
        -thinning<br>
        - Eyelash lamination<br>
        -Protein restoration of eyelashes / eyebrows<br>
        - Long lasting brow styling<br>
        <br>
        üíîCombo in 45 minutes<br>
        <br>
        Eyelashes + eyebrows Botex as a gift üéÅ<br>
        <br>
        üíî Look in 1.5 hours<br>
        Makeup of any complexity<br>
        Styling / hairstyle<br>
        Makeup + styling
        <br>
      </p>
      <q-btn href="https://api.whatsapp.com/send?phone=79811853911&text=" class="my-btn" outline>RECORDING</q-btn>
    </div>

    <!-- DEBUG: –Ω—É–∂–Ω–∞ –¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞. –£–¥–∞–ª–∏ –ø–æ—Ç–æ–º –≤—Å—ë —á—Ç–æ –Ω–∏–∂–µ -->
    <div class="brow">
      <p>-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±—Ä–æ–≤–µ–π /—Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã<br>
        -–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ /–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –±—Ä–æ–≤–µ–π (—Ö–Ω–∞ /–∫—Ä–∞—Å–∫–∞)<br>
        -–û—Å–≤–µ—Ç–ª–µ–Ω–∏–µ –±—Ä–æ–≤–µ–π<br>
        -–ü—Ä–æ—Ä–µ–∂–∏–≤–∞–Ω–∏–µ<br>
        -–õ–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü<br>
        -–ü—Ä–æ—Ç–µ–∏–Ω–æ–≤–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü /–±—Ä–æ–≤–µ–π<br>
        -–î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —É–∫–ª–∞–¥–∫–∞ –±—Ä–æ–≤–µ–π<br>
        <br>
        üíî–ö–æ–º–±–æ –∑–∞ 45 –º–∏–Ω—É—Ç<br>
        <br>
        –†–µ—Å–Ω–∏—Ü—ã + –±—Ä–æ–≤–∏ Botex –≤ –ø–æ–¥–∞—Ä–æ–∫ üéÅ<br>
        <br>
        üíî–û–±—Ä–∞–∑ –∑–∞ 1,5 —á–∞—Å–∞<br>
        –ú–∞–∫–∏—è–∂ –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏<br>
        –£–∫–ª–∞–¥–∫–∞ / –ø—Ä–∏—á—ë—Å–∫–∞<br>
        –ú–∞–∫–∏—è–∂ + —É–∫–ª–∞–¥–∫–∞<br>
        –ú–∞–∫–∏—è–∂ —Ç–µ–ª–∞ ( –≥—Ä—É–¥—å/–Ω–æ–≥–∏/—Ä—É–∫–∏)<br>
        –ì—Ä–∏–º
        <br>
      </p>
      <q-btn href="https://api.whatsapp.com/send?phone=79811853911&text=" class="my-btn" outline>–ó–ê–ü–ò–°–ê–¢–¨–°–Ø</q-btn>
      <br>
      <p>
        -Architecture of eyebrows / shaping<br>
        - Coloring / correction of eyebrows (henna / dye<br>
        - Eyebrow lightening<br>
        -thinning<br>
        - Eyelash lamination<br>
        -Protein restoration of eyelashes / eyebrows<br>
        - Long lasting brow styling<br>
        <br>
        üíîCombo in 45 minutes<br>
        <br>
        Eyelashes + eyebrows Botex as a gift üéÅ<br>
        <br>
        üíî Look in 1.5 hours<br>
        Makeup of any complexity<br>
        Styling / hairstyle<br>
        Makeup + styling
        <br>
      </p>
      <q-btn href="https://api.whatsapp.com/send?phone=79811853911&text=" class="my-btn" outline>RECORDING</q-btn>
    </div>
    <div class="brow">
      <p>-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±—Ä–æ–≤–µ–π /—Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã<br>
        -–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ /–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –±—Ä–æ–≤–µ–π (—Ö–Ω–∞ /–∫—Ä–∞—Å–∫–∞)<br>
        -–û—Å–≤–µ—Ç–ª–µ–Ω–∏–µ –±—Ä–æ–≤–µ–π<br>
        -–ü—Ä–æ—Ä–µ–∂–∏–≤–∞–Ω–∏–µ<br>
        -–õ–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü<br>
        -–ü—Ä–æ—Ç–µ–∏–Ω–æ–≤–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü /–±—Ä–æ–≤–µ–π<br>
        -–î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —É–∫–ª–∞–¥–∫–∞ –±—Ä–æ–≤–µ–π<br>
        <br>
        üíî–ö–æ–º–±–æ –∑–∞ 45 –º–∏–Ω—É—Ç<br>
        <br>
        –†–µ—Å–Ω–∏—Ü—ã + –±—Ä–æ–≤–∏ Botex –≤ –ø–æ–¥–∞—Ä–æ–∫ üéÅ<br>
        <br>
        üíî–û–±—Ä–∞–∑ –∑–∞ 1,5 —á–∞—Å–∞<br>
        –ú–∞–∫–∏—è–∂ –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏<br>
        –£–∫–ª–∞–¥–∫–∞ / –ø—Ä–∏—á—ë—Å–∫–∞<br>
        –ú–∞–∫–∏—è–∂ + —É–∫–ª–∞–¥–∫–∞<br>
        –ú–∞–∫–∏—è–∂ —Ç–µ–ª–∞ ( –≥—Ä—É–¥—å/–Ω–æ–≥–∏/—Ä—É–∫–∏)<br>
        –ì—Ä–∏–º
        <br>
      </p>
      <q-btn href="https://api.whatsapp.com/send?phone=79811853911&text=" class="my-btn" outline>–ó–ê–ü–ò–°–ê–¢–¨–°–Ø</q-btn>
      <br>
      <p>
        -Architecture of eyebrows / shaping<br>
        - Coloring / correction of eyebrows (henna / dye<br>
        - Eyebrow lightening<br>
        -thinning<br>
        - Eyelash lamination<br>
        -Protein restoration of eyelashes / eyebrows<br>
        - Long lasting brow styling<br>
        <br>
        üíîCombo in 45 minutes<br>
        <br>
        Eyelashes + eyebrows Botex as a gift üéÅ<br>
        <br>
        üíî Look in 1.5 hours<br>
        Makeup of any complexity<br>
        Styling / hairstyle<br>
        Makeup + styling
        <br>
      </p>
      <q-btn href="https://api.whatsapp.com/send?phone=79811853911&text=" class="my-btn" outline>RECORDING</q-btn>
    </div>
  </q-page>

</template>

<script setup>
import { onMounted, watch, computed } from 'vue'
import { state } from 'src/store/simplestore'

// Video params
const vdoPoster = 'https://drive.google.com/uc?export=view&id=1ZnY9WNndTb7ZdoRMuM8FzhKNazvToJpl' // –ü–µ—Ä–µ–ª–æ–∂–∏ –æ–±–ª–æ–∂–∫—É –ª–æ–∫–∞–ª—å–Ω–æ, —Ä—è–¥–æ–º —Å –≤–∏–¥–µ–æ
const vdoSrc = '/assets/vdo1.mp4' // –≠—Ç–æ –ø—É—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ /public, –µ—Å–ª–∏ —á—Ç–æ

// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∞ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞–≤–∏–º –≤ mounted, —Ç.–∫. —Ç–æ–ª—å–∫–æ —Ç–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω DOM
let vdo = null
let page = null

// –ö–æ–Ω–≤–µ—Ä—Ç–∏–º –ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫—Ä–æ–ª–ª–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–∏–¥–µ–æ
const relToTime = (rel) => vdo.duration / 100 * rel

// –ö–æ–Ω–≤–µ—Ä—Ç–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ —Å–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
const scrollToRel = (y) => {
  // –ê–±—Å–æ–ª—é—Ç–Ω–∞—è –≤—ã—Å–æ—Ç–∞: –≤—ã—á–∏—Ç–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –≤—å—é–ø–æ—Ä—Ç–∞ –±—Ä–∞—É–∑–µ—Ä–∞ (—Ç.–∫. –≤ –Ω—ë–º —Å–∫—Ä–æ–ª–ª –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è)
  const absHeight = page.clientHeight - document.documentElement.clientHeight
  const value = Math.ceil(y / absHeight * 100)
  console.warn('–°–∫—Ä–æ–ª–ª: %s % / Y=%s, ABS=%s', value, y, absHeight) // Debug
  return value
}

// –ü–æ–ª—É—á–∞–µ–º DOM —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∞–∂–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
onMounted(() => {
  vdo = document.getElementById('bg-vdo')
  page = document.getElementById('page-container')
})

// –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ Y –∏–∑ –æ–±—â–µ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
const y = computed(() => state.scrollY)

// –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ Y –∏ –Ω–∞ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ "–º–æ—Ç–∞–µ–º" –≤–∏–¥–µ–æ –Ω–∞ –Ω—É–∂–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç
watch(y, async (val) => {
    const rel = scrollToRel(val)
    vdo.currentTime = relToTime(rel)
  }
);

// –ö–û–ù–ï–¶! –î–∞–ª—å—à–µ —Å–∞–º –æ—Ç–ª–∞–∂–∏–≤–∞–π –≤—Å–µ –Ω—é–∞–Ω—Å—ã + –º–æ–±–∏–ª—å–Ω—ã–µ )))
</script>

<style lang="scss" scoped>
@import url('https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap');

#bg-vdo {
  width: 100vw;
  height: 100vh;
  object-fit: cover;
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
}

/* –ü–æ—á–µ–º—É media –ø—É—Å—Ç–æ–π??? –ö—É–¥–∞ —Å—Ç—É—á–∏—à—å—Å—è? */
// @media () {
//   #bg-vdo { display: none; }
//   body {
//     background: url("https://assets.codepen.io/6093409/river.jpg") no-repeat;
//     background-size: cover;
//   }
// }
.brow {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  margin: 50px;
  font-family: Roboto-Slab;
}

.brow p {
  text-align: center;
  background-color: rgba(255, 255, 255, 0.5);
}

.brow img {
  width: 300px;
  height: 50%;
}
</style>
